### 表2.1"图书查询"用例规约
<link href="tableCss.css" rel="stylesheet" type="text/css">

|用例名称|图书查询|
|:-|:-|
|参与者|游客/借阅者/图书管理员/系统管理员|
|前置条件| <ul><li>进入到系统</li><li>网络状态良好</li></ul>|
|后置条件|页面列表显示查询结果|
|主事件流|
|<p style="text-align:center;">参与者动作</p>|<p style="text-align:center;">系统行为</p>|
|1.参与者查询所需书籍关键字<br><br>4.根据页面内容进行下一步操作|<br>2.系统根据关键字从数据库查询数据<br>3.将查询结果格式化输出到页面|
|备选事件流|
|<ol><li>书籍不存在<ol><li>系统提示书籍不存在,用例借书</li></ol><li>关键字非法<ol><li>系统提示关键字非法,返回事件流开头</li></ol></ol>|
|业务规则|
|<ol><li>所有用户都可进行该项操作</li><li>根据用户角色判断是否可以进行进一步操作</li></ol>|



### 表2.2"账户设置"用例规约
|用例名称|账户设置|
|:-|:-|
|参与者|借阅者/图书管理员/系统管理员|
|前置条件| <ul><li>登录到系统</li><li>进入个人信息页面</li></ul>|
|后置条件|<ul><li>页面能够显示登录用户的详细信息</li><li>根据参与者动作作出相应反应</li></ul>|
|主事件流|
|<p style="text-align:center;">参与者动作</p>|<p style="text-align:center;">系统行为</p>|
|<br>2.用户根据需求点击相应的链接|1.系统根据用户用户id,从数据库查询用户详细信息输出到页面<br><br>3.系统根据用户操作作出相应操作|
|备选事件流|
|<ol><li>系统反应错误<ol><li>提示错误,用例结束</li></ol></li></ol>|
|业务规则|
|<ol><li>根据用户角色区别显示内容有所区别</li></ol>|




### 表2.3"借书"用例规约
|用例名称|借书|
|:-|:-|
|参与者|图书管理员/系统管理员|
|前置条件| <ul><li>查询所得的书籍属性中,库存数量大于等于1</li><li>申请借书的借阅者的信用度良好</li></ul>|
|后置条件|书籍库存-1;生成借书单|
|主事件流|
|<p style="text-align:center;">参与者动作</p>|<p style="text-align:center;">系统行为</p>|
|1.图书管理员检查书籍库存是否合格<br>2.如果合格,输入借阅者id,查询借阅者信用度是否合格<br>3.如果合格,点击下一步生成借书单,将书籍借出 |<br><br><br>4.系统根据书籍id,借阅者id生成借书单;相关书籍库存-1 |
|备选事件流|
|<ol><li>仍和一项不合格<ol><li>系统给出警告,用例结束</li></ol></li><li>操作失败<ol><li>提示错误,向系统发送错误日志,用例结束</li></ol></li><li>借阅者提出续借请求<ol><li>该用例结束,进入续借用例流程</li></ol></li></ol>|
|业务规则|
|<ol><li>书籍库存不能小于0</li></ol>|


### 表2.4"还书"用例规约
|用例名称|还书|
|:-|:-|
|参与者|图书管理员/系统管理员|
|前置条件| <ul><li>借书单存在,且处于'借出'状态</li><li>书籍完好归还</li></ul>|
|后置条件|书籍库存+1,更新借书单状态为'归还'|
|主事件流|
|<p style="text-align:center;">参与者动作</p>|<p style="text-align:center;">系统行为</p>|
|1.图书管理员根据借阅者id查询出相应借书单<br>2.检查书籍完整性,判断下一步<br>3.若书籍完整,确认归还|<br><br><br>4.系统根据管理员操作更新信息,书籍库存+1,更新借书单状态为'归还' |
|备选事件流|
|<ol><li>书籍损毁或遗失<ol><li>按照条例图书管理员对借阅者信用度进行适当减分</li><li>本用例结束,进入违规处理用例</li></ol></li><li>书籍逾期归还<ol><li>按照条例图书管理员对借阅者信用度进行适当减分</li><li>本用例结束,进入违规处理用例</li></ol></li></ol>|
|业务规则|
|<ol><li>借书单必须存在,若不存在向系统发送错误报告</li><li>借阅者还书日期必须在规定时间内完成</li><li>书籍不得有损毁或遗失,否则根据相关条例进行处罚</li></ol>|

### 表2.5"续借"用例规约
|用例名称|续借|
|:-|:-|
|参与者|图书管理员/系统管理员|
|前置条件| <ul><li>借书单存在</li><li>图书管理员同意借阅者续借请求</li><li>所借书籍并未损毁或遗失</li></ul>|
|后置条件|页面列表显示查询结果|
|主事件流|
|<p style="text-align:center;">参与者动作</p>|<p style="text-align:center;">系统行为</p>|
|1.根据借阅者id查询出借书单<br>2.图书管理员同意续借申请,确认续借|<br><br>3.系统在借书单中添加续借申请日期,置借书单状态为'续借'|
|备选事件流|
|<ol><li>书籍损毁或遗失<ol><li>按照条例图书管理员对借阅者信用度进行适当减分</li><li>本用例结束,进入违规处理用例</li></ol></li><li>书籍逾期归还<ol><li>按照条例图书管理员对借阅者信用度进行适当减分</li><li>本用例结束,进入违规处理用例</li></ol></li></ol>|
|业务规则|
|<ol><li>书籍不得有损毁或遗失,否则根据相关条例进行处罚</li></ol>|


### 表2.6"违规处理"用例规约
|用例名称|违规处理|
|:-|:-|
|参与者|图书管理员/系统管理员|
|前置条件| <ul><li>借阅者出现违规行为</li></ul>|
|后置条件|对借阅者的信用分进行相关增减,记录借阅者违规行为|
|主事件流|
|<p style="text-align:center;">参与者动作</p>|<p style="text-align:center;">系统行为</p>|
|1.判断借阅者违规情况,查询先关规定决定处罚方案<br>2.根据处罚方案在系统上操作|<br><br>3.响应图书管理员操作,更新预约者信用分,添加违规记录 |
|业务规则|
|无具体线上规则,需要图书管理员更具情况自行决定|

### 表2.7"书目管理"用例规约
|用例名称|书目管理|
|:-|:-|
|参与者|图书管理员/系统管理员|
|前置条件| <ul><li>某图书藏书数量发生变化</li><li>馆藏图书书目发生变化</li></ul>|
|后置条件|更新图书书目,更新相关书籍信息|
|主事件流|
|<p style="text-align:center;">参与者动作</p>|<p style="text-align:center;">系统行为</p>|
|1.判断发生变化的种类<br>2.操作相关选项|<br><br>3.对操作作出响应|
|业务规则|
|<ol><li>操作过程保证图书信息的完整性和正确性</li><li>操作过程保证书目信息的完整性和正确性</li></ol>|


### 表2.8"系统管理"用例规约
|用例名称|系统管理|
|:-|:-|
|参与者|系统管理员|
|前置条件| <ul><li>收到错误报告</li><li>系统需要维护</li></ul>|
|后置条件|系统恢复正常或完成系统维护|
|主事件流|
|1.分析问题<br>2.制定解决方案<br>解决问题|
|业务规则|
|<ol><li>能够解决问题或使系统运行优化的操作称为有效操作,否则撤回操作</li></ol>|

